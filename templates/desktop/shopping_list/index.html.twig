{% set active = "shoppingList" %}
{% extends 'desktop/base.html.twig' %}

{% block title %}
    Mes Listes
{% endblock %}

{% block body %}
    {% set shoppingLists = shoppingListRepository.findBy({}, {"date": "desc"}) %}
    <ul class="list-group">
        <a
                class="list-group-item d-flex justify-content-between align-items-center active"
                href="{{ path("shopping_list_create") }}">
            Nouvelle liste
        </a>
        {% for shoppingList in shoppingLists %}
            <a
                    href="{{ path("shopping_list_show", {"id": shoppingList.id}) }}"
                    class="list-group-item d-flex justify-content-between align-items-center">
                {{ shoppingList.date|format_datetime(locale="fr_FR", pattern="dd MMMM YYYY") }}
                - {{ shoppingList.typeNumber(constant("App\\Entity\\Recipe::TYPE_MAIN_COURSE")) }} repas
                - {{ shoppingList.typeNumber(constant("App\\Entity\\Recipe::TYPE_DESSERT")) }} dessert
                {% if not shoppingList.locked %}
                    <span class="badge float-end bg-primary rounded-pill me-1">active</span>
                {% endif %}
            </a>
        {% endfor %}
    </ul>
{% endblock %}
